<!DOCTYPE html>
<!--
    http://vis.adjectivespecies.com - visualizations of the furry fandom.
    Copyright (C) 2012  Matthew Scott

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->

<!--#set var="title" value="State of Furry - Age"-->
<!--#set var="header" value="State of Furry - Age"-->
<!--#include virtual="/includes/header.html"-->
        <link rel="stylesheet" type="text/css" href="http://vis.mjs-svc.com/_lib/theme/css/smoothness/jquery-ui-1.8.6.custom.css" />
        <link rel="stylesheet" type="text/css" href="style.css" />
        <script type="text/javascript" src="data.js"></script>
        <script type="text/javascript" src="http://lib.jnsq.us/protovis"></script>
        <script type="text/javascript" src="http://lib.jnsq.us/jquery/1.6.2"></script>
        <script type="text/javascript" src="http://lib.jnsq.us/jquery-ui/1.8.14"></script>
        <script type="text/javascript">
            $(function() {
                $('#slider').slider({
                    value: 0,
                    min: 0,
                    max: 2,
                    step: 1,
                    slide: function(ev, ui) {
                        updateYearByIndex(ui.value);
                    }
                });
            });
        </script>
        <style>
            #fig {
                width: 710px;
            }
            #slider, #labels {
                width: 120px;
                font-size: 11pt;
                text-align: center;
                margin: auto;
            }
        </style>
<!--#include virtual="/includes/top.html"-->
                <p>This question asked respondents about where their age fell within 5 year age brackets.  Use the slider to change the year highlighted.</p>
                <div id="fig">
                    <script type="text/javascript+protovis">
var selectColor = "rgba(80, 80, 180, 1.0)", unselectColor = "rgba(180, 180, 180, 0.5)";
var vis = new pv.Panel()
    .width(650)
    .height(200)
    .bottom(50);
var years = [
    
vis.add(pv.Line)
    .data(pv.entries(data[2008].age))
    .left(function() this.index * 69 + 20)
    .bottom(function(d) d.value / data[2008].n * 400 + 5)
    .segmented(true)
    .interpolate("monotone"),

vis.add(pv.Line)
    .data(pv.entries(data[2009].age))
    .left(function() this.index * 69 + 20)
    .bottom(function(d) d.value / data[2009].n * 400 + 5)
    .segmented(true)
    .interpolate("monotone"),

vis.add(pv.Line)
    .data(pv.entries(data[2010].age))
    .left(function() this.index * 69 + 20)
    .bottom(function(d) d.value / data[2010].n * 400 + 5)
    .segmented(true)
    .interpolate("monotone")
];
years.forEach(function(d) d.add(pv.Dot)
    .radius(4)
    .lineWidth(2)
    .cursor("crosshair")
    .title(function(d) d.value + " responses")
);
years[0].add(pv.Label)
    .textAngle(-Math.PI / 2)
    .textAlign("right")
    .textBaseline("middle")
    .data(pv.keys(data[2008].age))
    .text(function(d) d);
vis.add(pv.Rule)
    .bottom(0)
    .left(0)
    .width(650);
vis.add(pv.Label)
    .text("% of respondents")
    .left(0)
    .bottom(50)
    .textBaseline("top")
    .textAngle(-Math.PI / 2);
vis.render();

updateYearByIndex(0);

function updateYearByIndex(index) {
    years.forEach(function(d) d.strokeStyle(unselectColor).lineWidth(3));
    years[index].strokeStyle(selectColor).lineWidth(4);
    vis.render();
}
                        </script>
                    </div>
                    <div id="slider"></div>
                    <div id="labels">2008 - 2009 - 2010</div>
                    <div id="expound">
                        <h2>Age</h2>
                        <p>It's interesting to note with age that the fandom seems to be migrating to a younger audience.  As you move the slider from 2008 to 2010, note how the maximum shifts to a younger age group and a greater percentage of the overall respondents.  This is visible to many who have gone to major conventions over a period of time - the audience seems younger each year.</p>
                    </div>
                    <div id="links">
                        <a href=".">Home</a> - <a href="yearsInFurry.shtml">Years in Furry &raquo;</a>
                    </div>
<!--#include virtual="/includes/footer.html"-->
